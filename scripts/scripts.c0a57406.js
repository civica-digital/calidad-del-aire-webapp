"use strict";angular.module("calidadDelAire",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","highcharts-ng","ngLodash"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).otherwise({redirectTo:"/"})}]),angular.module("calidadDelAire").controller("MainCtrl",["$timeout","Api","Graph",function(a,b,c){var d=this;d.dateSelected=void 0,d.dateOptions=b.dateOptions,d.initialize=function(){d.drawGraph()},d.drawGraph=function(){d.showChart=!0,a(function(){d.chartConfig=c.chartConfig([b.dummy_city()[0],b.dummy_city()[1]])},1e3)},d.initialize()}]),angular.module("calidadDelAire").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("calidadDelAire").service("Api",["$http",function(a){var b=[{name:"day",label:"Día"},{name:"week",label:"Semana"},{name:"month",label:"Mes"},{name:"year",label:"Año"}],c=function(){return[{name:"Calidad del Aire (D.F.)",city:"Bogotá",type:"objetivo",timeline:[{year:1989,value:.05},{year:1990,value:.1},{year:1991,value:.11},{year:1992,value:.12},{year:1993,value:.11},{year:1994,value:.13},{year:1995,value:.14},{year:1996,value:.12},{year:1997,value:.14},{year:1998,value:.08}]},{name:"Calidad de Aire (Ideal)",city:"Bogotá",type:"objetivo",timeline:[{year:1989,value:.1},{year:1990,value:.1},{year:1991,value:.1},{year:1992,value:.1},{year:1993,value:.1},{year:1994,value:.1},{year:1995,value:.1},{year:1996,value:.1},{year:1997,value:.1},{year:1998,value:.1}]}]};return{dateOptions:b,dummy_city:c}}]),angular.module("calidadDelAire").service("Graph",["Defaults","lodash",function(a,b){var c=function(a){return a.length>1?(console.log(a[0].name+" vs "+a[1].name),a[0].name+" vs "+a[1].name):(console.log(a[0].name),a[0].name)},d=function(a,c,d){var e={name:a,type:"spline",stack:"1"};return e.data=b.map(d,function(a){return[a.year.toString(),a.value]}),e},e=function(a,c,d){if(0!==d.length){var e=d[0].value,f=b.pluck(e,"name"),g=b.map(f,function(a){var c={name:a,type:"column",yAxis:1};return c.data=b.map(d,function(c){var d=b.result(b.findWhere(c.value,{name:a}),"value");return[c.year.toString(),d]}),c});return g}},f=function(a){return b.flatten(b.map(a,function(a){switch(a.type){case"objetivo":return d(a.name,a.city,a.timeline);case"subjetivo ordinal":return e(a.name,a.city,a.timeline);case"subjetivo categorico":return e(a.name,a.city,a.timeline)}}))},g=function(a){return{options:{chart:{zoomType:"xy"},plotOptions:{column:{stacking:"normal"}},xAxis:{type:"category",labels:{rotation:-45,style:{fontSize:"13px",fontFamily:"Verdana, sans-serif"}}},yAxis:[{labels:{formatter:function(){return this.value},style:{color:"#000"}},title:{text:"",style:{color:"#000"}}},{labels:{formatter:function(){return this.value},style:{color:"#000"}},opposite:!0}]},series:f(a),title:{text:c(a)}}};return{chartConfig:g}}]),angular.module("calidadDelAire").service("Defaults",function(){var a={firstAccent:"#BB0E80",secondAccent:"#2C031E",thirdAccent:"#F46DC6",fourthAccent:"#646464"},b={firstAccent:"#BB0E80",secondAccent:"#2C031E",thirdAccent:"#F46DC6",fourthAccent:"#646464"};return{graphColors:a,mapColors:b}}),angular.module("calidadDelAire").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/main.html",'<section class="text-center"> <h1>Calidad del aire</h1> </section> <section> <p> Pequeña descripción de qué es, qué hace, cómo funciona. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. </p> </section> <section> <p class="main-label"> Período de tiempo para visualizar la información: </p> <div class="col-xs-12 col-sm-4"> <select class="form-control" name="" ng-model="main.dateSelected" ng-options="option.label for option in main.dateOptions"> </select> </div> </section> <section class="text-center"> <!-- <h1>Nombre del indicador</h1> --> <highchart id="chart1" config="main.chartConfig" ng-show="main.showChart"></highchart> </section> <section> <div class="row"> <div class="col-xs-12 col-sm-6"> <div class="poll_experience"> <p> <strong>Some variable description.</strong> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. </p> </div> </div> <div class="col-xs-12 col-sm-6"> <div class="poll_experience"> <p> <strong>Some poll description.</strong> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. </p> <ul> <li><span class="index">1.</span>Muy Mala</li> <li><span class="index">2.</span>Mala</li> <li><span class="index">3.</span>Regular</li> <li><span class="index">4.</span>Buena</li> <li><span class="index">5.</span>Muy buena</li> </ul> </div> </div> </div> </section>')}]);